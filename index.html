<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Albers Color Interaction</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f3f0e4;
            margin: 0;
            touch-action: none;
            background-image: url('https://www.transparenttextures.com/patterns/handmade-paper.png');
        }
        .container {
            position: relative;
            width: 90vw;
            height: 90vw;
            max-width: 350px;
            max-height: 350px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .square {
            position: absolute;
            transition: background-color 0.2s ease, filter 0.3s ease;
            background-image: url('https://www.transparenttextures.com/patterns/handmade-paper.png');
        }
        .square:nth-child(1) {
            width: 100%;
            height: 100%;
            left: 0;
            top: 0;
        }
        .square:nth-child(2) {
            width: 72%;
            height: 72%;
            left: 12%;
            top: 18%;
        }
        .square:nth-child(3) {
            width: 48%;
            height: 48%;
            left: 24%;
            top: 34%;
        }
        .square:nth-child(4) {
            width: 24%;
            height: 24%;
            left: 36%;
            top: 50%;
        }
    </style>
    <script>
        const palettes = [
            ['#B8C6A6', '#80997E', '#516A5A', '#2E3D34'],
            ['#E8DED4', '#C9A783', '#B17850', '#744F32'],
            ['#CAD2C5', '#84A98C', '#52796F', '#354F52'],
            ['#FFE8D6', '#E9C46A', '#F4A261', '#E76F51'],
            ['#C9ADA7', '#9A8C98', '#4A4E69', '#22223B'],
            ['#FFDDD2', '#F08080', '#E63946', '#9D0208'],
            ['#D8E2DC', '#B8C6A6', '#80997E', '#516A5A'],
            ['#F8EDC5', '#FFD3B6', '#FFAAA5', '#FF8C94'],
            ['#6D597A', '#B56576', '#E56B6F', '#EAAC8B'],
            ['#B3CDE0', '#8AA4BF', '#61789E', '#405078'],
            ['#F0C987', '#D79C51', '#AF753B', '#7E4E24'],
            ['#C3B091', '#9D7D5C', '#71533F', '#50332D'],
            ['#A5B4FC', '#6366F1', '#4338CA', '#312E81'],
            ['#E2CFEA', '#C084FC', '#9333EA', '#581C87'],
            ['#FAE3B6', '#F7C063', '#DB974A', '#AF6D36'],
            ['#FFB400', '#F48C06', '#D62828', '#8D0801'],
            ['#73A580', '#508D69', '#356859', '#1B4332'],
            ['#E5C07B', '#D19A66', '#BE5046', '#833500'],
            ['#9BC1BC', '#5CA4A9', '#3D5A80', '#293241'],
            ['#FAE1DD', '#F8C8DC', '#E5989B', '#6D6875'],
            ['#F4E285', '#F2A65A', '#F58549', '#A53860'],
            ['#87B37A', '#3A6B35', '#264027', '#1B1B1E']
        ];
        
        function getRandomColor() {
            const randomPalette = palettes[Math.floor(Math.random() * palettes.length)];
            return randomPalette[Math.floor(Math.random() * randomPalette.length)];
        }
        
        function applyPalette() {
            document.querySelectorAll('.square').forEach((sq, index) => {
                sq.dataset.originalColor = palettes[0][index];
                sq.style.backgroundColor = palettes[0][index];
            });
        }
        
        function changeSquareColor(event) {
            let target = event.target;
            if (target.classList.contains('square')) {
                target.style.backgroundColor = getRandomColor();
            }
        }
        
        document.addEventListener("DOMContentLoaded", () => {
            applyPalette();
            document.querySelectorAll('.square').forEach((sq) => {
                sq.addEventListener("click", changeSquareColor);
            });
        });
    </script>
</head>
<body>
    <div class="container">
        <div class="square"></div>
        <div class="square"></div>
        <div class="square"></div>
        <div class="square"></div>
    </div>
</body>
</html>
