<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Albers Color Interaction</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f4f4f4;
            margin: 0;
            touch-action: none;
        }
        .container {
            position: relative;
            width: 90vw;
            height: 90vw;
            max-width: 300px;
            max-height: 300px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .square {
            position: absolute;
            transition: background-color 0.1s ease;
        }
        .square:nth-child(1) {
            width: 100%;
            height: 100%;
        }
        .square:nth-child(2) {
            width: 75%;
            height: 75%;
        }
        .square:nth-child(3) {
            width: 50%;
            height: 50%;
        }
        .square:nth-child(4) {
            width: 25%;
            height: 25%;
        }
    </style>
    <script>
        const palettes = [
            ['#d13525', '#e48d5c', '#285943', '#0d0d0d'],
            ['#6a9f5a', '#3e665f', '#16262e', '#090909'],
            ['#c88d94', '#efb25b', '#e87722', '#aa2b1d'],
            ['#568f8b', '#2f5d62', '#1b3a4b', '#0b1a2d'],
            ['#a44334', '#d87954', '#fc9a63', '#ffcb74'],
            ['#8b5c30', '#d9a066', '#ffe28a', '#ffd25e'],
            ['#63776b', '#2c4c40', '#152726', '#080f0f'],
            ['#aa8633', '#d4b54c', '#ffee77', '#ffdd33'],
            ['#345487', '#4b7aa5', '#7da1c4', '#cde2f2'],
            ['#e4a672', '#ffcb92', '#ffeb9f', '#fff3c2']
        ];
        
        function getRandomColor() {
            const randomPalette = palettes[Math.floor(Math.random() * palettes.length)];
            return randomPalette[Math.floor(Math.random() * randomPalette.length)];
        }
        
        function applyPalette() {
            document.querySelectorAll('.square').forEach((sq, index) => {
                sq.dataset.originalColor = palettes[0][index];
                sq.style.backgroundColor = palettes[0][index];
            });
        }
        
        function changeSquareColor(event) {
            let target = event.target;
            if (target.classList.contains('square')) {
                target.style.backgroundColor = getRandomColor();
            }
        }
        
        document.addEventListener("DOMContentLoaded", () => {
            applyPalette();
            document.querySelectorAll('.square').forEach((sq) => {
                sq.addEventListener("click", changeSquareColor);
            });
        });
    </script>
</head>
<body>
    <div class="container">
        <div class="square"></div>
        <div class="square"></div>
        <div class="square"></div>
        <div class="square"></div>
    </div>
</body>
</html>
